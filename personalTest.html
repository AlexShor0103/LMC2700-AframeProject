<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    
    <script>
      AFRAME.registerComponent('modify-materials', {
        init: function () {
          // Wait for model to load.
          this.el.addEventListener('model-loaded', () => {
            // Grab the mesh / scene.
            const obj = this.el.getObject3D('mesh');
            // Go over the submeshes and modify materials we want.
            obj.traverse(node => {
              if (node.name.indexOf('ship') !== -1) {
                node.material.color.set('red');
              }
            });
          });
        }
      });
    </script>
    <title>Document</title>
  </head>
  <body>
    <a-scene background="color: #DE7C5A">
      <a-entity
        id="candyPile"
        geometry="primitive: triangle; 
          vertex-a: 4 0 0; 
          vertex-b: 0 2 0; 
          vertex-c: 0 0 4;"
        material="color: green"
      ></a-entity>
      <a-entity
        id="wallX"
        geometry="primitive: box;
            height: 10;
            depth: 10;
            width: 1;"
        position="-0.5 5 5"
        material="color: white"
      ></a-entity>
      <a-entity
        id="wallZ"
        geometry="primitive: box;
            height: 10;
            depth: 1;
            width: 10;"
        position="5 5 -0.5"
        material="color: white"
      ></a-entity>
      <a-entity
        id="wallY"
        geometry="primitive: box;
            height: 1;
            depth: 10;
            width: 10;"
        position="5 -0.5 5"
        material="color: white"
      ></a-entity>
      <!-- Default camera height has y val 1.6, all changes to y val are added to 1.6 -->
      <a-entity position="5 2 5">
        <a-camera active="true"></a-camera>
      </a-entity>
      <a-assest>
        <a-assest-item id="candy1-obj" src="components/candy.obj"></a-assest>
        <a-asset-item id="candy1-mtl" src="components/candy.obj"></a-asset-item>
      </a-assest>
      <a-entity obj-model="obj: #candy1-obj; mtl: #candy1-mtl"></a-entity>
    </a-scene>
  </body>
</html>
